  <% sorted_it_activities = @itinerary.it_activities.includes(:activity).order(:date).group_by(&:date) %>
  <% sorted_it_activities.keys.each do |date| %>

    <% if date.present? %>
      <p><%= date.strftime('%A, %d %B') %></p>
    <% else %>
      <p>Unspecified Date</p>
    <% end %>


<% sorted_it_activities[date].each do |it_activity| %>
  <div class="card-product">
    <% activity = it_activity.activity %>
    <% if activity.image_url.present? %>
      <img src="<%= activity.image_url %>" alt="">
    <% else %>
    <img src="https://www.rnd.de/resizer/y7y4Ajdp0erQTzUCdux_RnhnuWQ=/1441x1081/filters:quality(70)/cloudfront-eu-central-1.images.arcpublishing.com/madsack/KDRDXITX2NDY5NQOC34BSE3NNY.jpg" alt="">
    <% end %>

    <div class="card-product-infos">
      <h2><%= activity.title %></h2>
      <h2><%= link_to icon('fa-regular', 'trash-can icon-hover-trash'), itinerary_it_activity_path(@itinerary, it_activity), data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this activity?" } %>
          <%= link_to icon('fa-regular', 'edit icon-hover-edit'), itinerary_it_activity_path(@itinerary, it_activity) %>
      </h2>
    </div>
  </div>
    <% end %>
<% end %>
